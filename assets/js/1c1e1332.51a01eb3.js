"use strict";(self.webpackChunkplatform_docs=self.webpackChunkplatform_docs||[]).push([[4799],{3905:(e,t,n)=>{n.d(t,{Zo:()=>d,kt:()=>m});var a=n(7294);function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function r(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function o(e,t){if(null==e)return{};var n,a,i=function(e,t){if(null==e)return{};var n,a,i={},s=Object.keys(e);for(a=0;a<s.length;a++)n=s[a],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var l=a.createContext({}),c=function(e){var t=a.useContext(l),n=t;return e&&(n="function"==typeof e?e(t):r(r({},t),e)),n},d=function(e){var t=c(e.components);return a.createElement(l.Provider,{value:t},e.children)},u={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},p=a.forwardRef((function(e,t){var n=e.components,i=e.mdxType,s=e.originalType,l=e.parentName,d=o(e,["components","mdxType","originalType","parentName"]),p=c(n),m=i,h=p["".concat(l,".").concat(m)]||p[m]||u[m]||s;return n?a.createElement(h,r(r({ref:t},d),{},{components:n})):a.createElement(h,r({ref:t},d))}));function m(e,t){var n=arguments,i=t&&t.mdxType;if("string"==typeof e||i){var s=n.length,r=new Array(s);r[0]=p;var o={};for(var l in t)hasOwnProperty.call(t,l)&&(o[l]=t[l]);o.originalType=e,o.mdxType="string"==typeof e?e:i,r[1]=o;for(var c=2;c<s;c++)r[c]=n[c];return a.createElement.apply(null,r)}return a.createElement.apply(null,n)}p.displayName="MDXCreateElement"},5246:(e,t,n)=>{n.r(t),n.d(t,{default:()=>c,frontMatter:()=>s,metadata:()=>r,toc:()=>o});var a=n(7462),i=(n(7294),n(3905));const s={sidebar_position:4},r={unversionedId:"tutorial/assign-an-item",id:"tutorial/assign-an-item",isDocsHomePage:!1,title:"Assign an item",description:"Item instances",source:"@site/docs/tutorial/assign-an-item.md",sourceDirName:"tutorial",slug:"/tutorial/assign-an-item",permalink:"/platform-docs/docs/tutorial/assign-an-item",editUrl:"https://github.com/jwa-lab/platform-docs/docs/docs/tutorial/assign-an-item.md",version:"current",sidebarPosition:4,frontMatter:{sidebar_position:4},sidebar:"tutorialSidebar",previous:{title:"Create a new item",permalink:"/platform-docs/docs/tutorial/create-an-item"},next:{title:"Transfer an item",permalink:"/platform-docs/docs/tutorial/transfer-item"}},o=[{value:"Item instances",id:"item-instances",children:[]},{value:"Assigning an instance",id:"assigning-an-instance",children:[]},{value:"Retrieving an instance",id:"retrieving-an-instance",children:[]},{value:"Updating an instance",id:"updating-an-instance",children:[]}],l={toc:o};function c(e){let{components:t,...s}=e;return(0,i.kt)("wrapper",(0,a.Z)({},l,s,{components:t,mdxType:"MDXLayout"}),(0,i.kt)("h2",{id:"item-instances"},"Item instances"),(0,i.kt)("p",null,"We have created a Golden Goose and someone bought it from us. We are going to create an instance for that user."),(0,i.kt)("p",null,"An instance is an item that has been assigned to a user. After being assigned, an item can start evolving independently from the same item assigned to other users."),(0,i.kt)("p",null,'When an instance is assigned, the related item\'s available quantity decreases by one. The item is "out of stock" when all instances have been assigned.'),(0,i.kt)("p",null,"Also, instances of the same item evolving differently is what makes the time spent using an item valuable. Its new characteristics will give value to that instance and each instance having evolved differently will have a different value."),(0,i.kt)("h2",{id:"assigning-an-instance"},"Assigning an instance"),(0,i.kt)("p",null,'To assign an instance to a user, locate the "Assign an item instance to a user" request in Postman.'),(0,i.kt)("p",null,'Click on "Body", set the following values and hit Send.'),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre"},'{\n    "item_id": 1,\n    "user_id": "Player One"\n}\n')),(0,i.kt)("p",null,"We are going to assign item 1 to Player One and should be getting the following response:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre"},'{\n    "item_id": 1,\n    "user_id": "Player One",\n    "instance_number": 1,\n    "data": {\n        "type": "goose",\n        "level": "legendary",\n        "attribute": "gold"\n    },\n    "tezos_operation_hash": null\n}\n')),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"instance_number")," indicates the Player 1 has received the first instance of that item. If we retrieved the corresponding item we would see that its ",(0,i.kt)("inlineCode",{parentName:"li"},"available_quantity")," field is now ",(0,i.kt)("inlineCode",{parentName:"li"},"0")," and the item can't be assigned anymore."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"data")," is empty but should be populated with the values from the original item since it hasn't evolved yet. This issue is being fixed."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"tezos_operation_hash")," will contain the operation hash to track the tokenization status, but tokenization hasn't happened yet.")),(0,i.kt)("p",null,(0,i.kt)("img",{alt:"assign-item",src:n(9762).Z})),(0,i.kt)("p",null,"To locate the instance in the blockchain given its tokenization information, please follow ",(0,i.kt)("a",{parentName:"p",href:"/docs/tokenization/tezos"},"this documentation"),"."),(0,i.kt)("h2",{id:"retrieving-an-instance"},"Retrieving an instance"),(0,i.kt)("p",null,"Let's now try to retrieve the instance. For that, we need the ",(0,i.kt)("inlineCode",{parentName:"p"},"item_id")," and the ",(0,i.kt)("inlineCode",{parentName:"p"},"instance_number"),"."),(0,i.kt)("p",null,'Locate the "Get an item instance given its item_id and instance_number" request, go to "Params" and set ',(0,i.kt)("inlineCode",{parentName:"p"},"item_id")," to ",(0,i.kt)("inlineCode",{parentName:"p"},"1")," and ",(0,i.kt)("inlineCode",{parentName:"p"},"instance_number")," to ",(0,i.kt)("inlineCode",{parentName:"p"},"1"),", and hit Send."),(0,i.kt)("p",null,"This will return the new instance, which is clearly assigned to a user, has the initial item fields since we haven't updated the instance yet, and we can see that the tezos tokenization information have been added."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-json"},'{\n    "item_id": 1,\n    "user_id": "Player One",\n    "instance_number": 1,\n    "data": {\n        "type": "goose",\n        "level": "legendary",\n        "attribute": "gold"\n    },\n    "tezos_operation_hash": "oooBew1cZZoziALr7Y7VF1KyngVGRZt32VnrHXFxyyvCH36A9u2"\n}\n')),(0,i.kt)("p",null,(0,i.kt)("img",{alt:"get-instance",src:n(2621).Z})),(0,i.kt)("h2",{id:"updating-an-instance"},"Updating an instance"),(0,i.kt)("p",null,"As we've already discussed, when a player uses an item, this item should evolve and give it unique characteristics that will differenciate it from the other instances of that item.\nThis uniqueness is what gives it its value and what the player wish to see persisted in the blockchain. While an item can't change after being frozen, the instance can always evolve.\nEvolving an item means altering its fields, and the new values for those fields will replace or augment the original characteristics from the item."),(0,i.kt)("p",null,"Let say that our Golden Goose is evolving and while still being a legendary Golden Goose, showing it around had it develop some patina and accumulate a few scratches."),(0,i.kt)("p",null,'We will change gold to "gold with patina" and add a "scratchiness" attribute.'),(0,i.kt)("p",null,'Locate the "update an item instance data" request and pass the following payload in the body:'),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-json"},'{\n    "item_id": 1,\n    "instance_number": 1,\n    "data": {\n        "attribute": "gold with patina",\n        "scratchiness": "low"\n    }\n}\n')),(0,i.kt)("p",null,"And if I retrieve the item instance:"),(0,i.kt)("p",null,(0,i.kt)("img",{alt:"update-instance",src:n(2947).Z})),(0,i.kt)("p",null,"We can see that the instance's data will override the item's data, or \"shadow\" it."))}c.isMDXComponent=!0},9762:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/assign-item-e2be57147adb7617ae882b75a4998412.png"},2621:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/get-instance-7163a0e8c3b683f6e5c2f589e85603b2.png"},2947:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/update-instance-9eaf7117c19b73c00e2670832b078552.png"}}]);