(self.webpackChunkplatform_docs=self.webpackChunkplatform_docs||[]).push([[843],{3905:function(t,e,o){"use strict";o.d(e,{Zo:function(){return u},kt:function(){return d}});var r=o(7294);function n(t,e,o){return e in t?Object.defineProperty(t,e,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[e]=o,t}function i(t,e){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),o.push.apply(o,r)}return o}function a(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?i(Object(o),!0).forEach((function(e){n(t,e,o[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):i(Object(o)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(o,e))}))}return t}function l(t,e){if(null==t)return{};var o,r,n=function(t,e){if(null==t)return{};var o,r,n={},i=Object.keys(t);for(r=0;r<i.length;r++)o=i[r],e.indexOf(o)>=0||(n[o]=t[o]);return n}(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(r=0;r<i.length;r++)o=i[r],e.indexOf(o)>=0||Object.prototype.propertyIsEnumerable.call(t,o)&&(n[o]=t[o])}return n}var c=r.createContext({}),s=function(t){var e=r.useContext(c),o=e;return t&&(o="function"==typeof t?t(e):a(a({},e),t)),o},u=function(t){var e=s(t.components);return r.createElement(c.Provider,{value:e},t.children)},p={inlineCode:"code",wrapper:function(t){var e=t.children;return r.createElement(r.Fragment,{},e)}},m=r.forwardRef((function(t,e){var o=t.components,n=t.mdxType,i=t.originalType,c=t.parentName,u=l(t,["components","mdxType","originalType","parentName"]),m=s(o),d=n,h=m["".concat(c,".").concat(d)]||m[d]||p[d]||i;return o?r.createElement(h,a(a({ref:e},u),{},{components:o})):r.createElement(h,a({ref:e},u))}));function d(t,e){var o=arguments,n=e&&e.mdxType;if("string"==typeof t||n){var i=o.length,a=new Array(i);a[0]=m;var l={};for(var c in e)hasOwnProperty.call(e,c)&&(l[c]=e[c]);l.originalType=t,l.mdxType="string"==typeof t?t:n,a[1]=l;for(var s=2;s<i;s++)a[s]=o[s];return r.createElement.apply(null,a)}return r.createElement.apply(null,o)}m.displayName="MDXCreateElement"},3644:function(t,e,o){"use strict";o.r(e),o.d(e,{frontMatter:function(){return l},metadata:function(){return c},toc:function(){return s},default:function(){return p}});var r=o(2122),n=o(9756),i=(o(7294),o(3905)),a=["components"],l={sidebar_position:2},c={unversionedId:"tutorial/authorization",id:"tutorial/authorization",isDocsHomePage:!1,title:"Authorization",description:"Note: to follow this tutorial, simply copy/paste the curl requests, or use the Postman collection located here",source:"@site/docs/tutorial/authorization.md",sourceDirName:"tutorial",slug:"/tutorial/authorization",permalink:"/platform-docs/docs/tutorial/authorization",editUrl:"https://github.com/jwa-lab/platform-docs/docs/docs/tutorial/authorization.md",version:"current",sidebarPosition:2,frontMatter:{sidebar_position:2},sidebar:"tutorialSidebar",previous:{title:"Getting started",permalink:"/platform-docs/docs/tutorial/getting-started"},next:{title:"Create a new item",permalink:"/platform-docs/docs/tutorial/create-an-item"}},s=[{value:"From the service logs",id:"from-the-service-logs",children:[]},{value:"From the token endpoint",id:"from-the-token-endpoint",children:[]}],u={toc:s};function p(t){var e=t.components,o=(0,n.Z)(t,a);return(0,i.kt)("wrapper",(0,r.Z)({},u,o,{components:e,mdxType:"MDXLayout"}),(0,i.kt)("p",null,(0,i.kt)("em",{parentName:"p"},"Note: to follow this tutorial, simply copy/paste the ",(0,i.kt)("inlineCode",{parentName:"em"},"curl")," requests, or use the ",(0,i.kt)("a",{parentName:"em",href:"https://github.com/jwa-lab/item-store/blob/main/postman_collection/JWA%20Platform%20-%20Item%20Store.postman_collection.json"},"Postman collection located here"))),(0,i.kt)("p",null,"In order to start using the JWA Platform, you will have to use a JWT in each of your requests.\nThis token will be valid until the next startup of the platform, therefore, you can setup it once in the provided\nPostman collection, or in your own for your development session without having to worry about its expiration date."),(0,i.kt)("p",null,"There two ways of getting this JWT, by copying it from the ",(0,i.kt)("inlineCode",{parentName:"p"},"authorization-service")," logs, or by calling the dedicated endpoint."),(0,i.kt)("h2",{id:"from-the-service-logs"},"From the service logs"),(0,i.kt)("p",null,"At the startup of the platform, you will see the following logs from the local authorization service"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-bash"},"[MOCK AUTHORIZATION DEV] JWK successfully created.\n[MOCK AUTHORIZATION DEV] Your dev JWT :  eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImtpZCI6IjEzNGIzYjA2LTg0ZGQtNDk1MC04ZDQ5LTJjYTI1ZTk5NWZmMSJ9.eyJhdWQiOiJhcGk6Ly9kZWZhdWx0IiwiaXNzIjoiaHR0cDovL2F1dGhvcml6YXRpb24tc2VydmljZTo4OTk5L29hdXRoMi9kZWZhdWx0IiwiZXhwIjo0MTE2ODE2MzUxLCJpYXQiOjE2MjU1NjQ1NjcsImp0aSI6IjYxNjE0YzQ3LWY4OGItNGYyNi1iMGQ2LTNiMGNjMjhmMjI0YSIsInN1YiI6IkRFVl9UT0tFTiJ9.jCQqtZRS-uyv5s3OJy7JA3b3ZANOJOkoDCamKC6-5vjuUutYt5Vu2unWsKasxTosCwYIYd6fpl-U01JhctT3rWcUm2i5I3Or0_7qG0V1P3pp9Xt3YvuJIG7udGo1oWEMbPnwvfmHpMmoHIKEaUervNqAugSzBcedUkmEGblmxQAIrebpTEKzy7LHPgf4pkuJykynKO8H1FIj3jZCdTM2Mb5tJB4kHDxO_jJZM9cIgID8OANU-KM2KEeZ3YoZnoiuhgCq-2L25XRsMDb1b0qoOFb5fjlt24LFVem_rZQMfoMpogwh8XIzlGoJNzuV90Vk3x3zUGR-ipE-fmxwPmc1gw\n[MOCK AUTHORIZATION DEV] Airlock Dev authorization service listening on port 8999\n")),(0,i.kt)("p",null,"You can copy the exposed JWT directly from here."),(0,i.kt)("p",null,(0,i.kt)("em",{parentName:"p"},"If you try to copy and use this JWT, the platform will reject it because it hasn't been signed with the same JWK.")),(0,i.kt)("h2",{id:"from-the-token-endpoint"},"From the token endpoint"),(0,i.kt)("p",null,"Once the platform is up and ready, you will be able to access the ",(0,i.kt)("inlineCode",{parentName:"p"},"/token")," endpoint in order to get your development JWT."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-bash"},"% curl --location --request GET 'http://localhost:8999/oauth2/default/v1/token'\n")),(0,i.kt)("p",null,"Which will return a new signed JWT."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-json"},'{\n    "token":"eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImtpZCI6IjhjN2E4MjljLWViNzMtNDlkMC04ZTBlLTUwNGM5ZjhmYTIyYiJ9.eyJhdWQiOiJhcGk6Ly9kZWZhdWx0IiwiaXNzIjoiaHR0cDovL2F1dGhvcml6YXRpb24tc2VydmljZTo4OTk5L29hdXRoMi9kZWZhdWx0IiwiZXhwIjo0MTE2ODE2MzUxLCJpYXQiOjE2MjU1NzcxNjIsImp0aSI6IjcwNTdlMGNhLTQwYzctNDdmOS1iMmQ5LWIyNDQwZmFlYzJlZCIsInN1YiI6IkRFVl9UT0tFTiJ9.iiljVK73_MWYUwtF9blBRlFXhnfZmpS96l_NhmX4HaLPcRD9dZZBtE-F_TdcsWEdzawqkNJRx7-0-oxL5pp4aAs6oS3zpArQruK_Iwegdq33UN-sA3lRO21-2-OlrsQXj4bA_fyZR0sMlBGEyTNt2xf0vc8iFiamKp8kJlmf1iGFHlLcmG2c79vSbgoGqdF381GKuSSMJ68EcbPfu3EfghdRTZ8tNj9c-AjD8PNfam8EVv3xmDjkr_8ZzBktlHSiCec86iccws-AcbbK5_hO9yLs4N5dEgCYFsbdP3d4Y_oL1SoL9X7u8ikvhBc-S7RaRGImmtDsSaa4ua_gnuyLvA"\n}\n')),(0,i.kt)("p",null,"Now that we are ready to go, let's dig into the platform's purpose !"))}p.isMDXComponent=!0}}]);